[gd_scene load_steps=7 format=3 uid="uid://be7aym5fxoaaf"]

[ext_resource type="Script" path="res://scripts/Player.cs" id="1_l5ckk"]
[ext_resource type="FontFile" path="res://resources/fonts/new_dynamicfont.tres" id="3"]
[ext_resource type="TileSet" uid="uid://dt7amgr7crygn" path="res://resources/Ash_tileset.tres" id="4_3ymha"]
[ext_resource type="Texture2D" uid="uid://dhsokhhec3tpf" path="res://assets/Units/king/UnitPortrait.png" id="4_7rup5"]
[ext_resource type="Script" path="res://scripts/SelectRect.cs" id="5"]
[ext_resource type="Script" path="res://scripts/UI/MenuUI.cs" id="6"]

[node name="Player" type="Node"]
script = ExtResource("1_l5ckk")

[node name="Selectables" type="Node" parent="."]

[node name="Units" type="Node" parent="Selectables"]

[node name="HUD" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="TopBar" type="ColorRect" parent="HUD"]
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.1
color = Color(0, 0, 0, 1)

[node name="Resources" type="HBoxContainer" parent="HUD/TopBar"]
layout_mode = 0
anchor_left = 0.5
anchor_right = 1.0
anchor_bottom = 1.0

[node name="QuickMenu" type="HBoxContainer" parent="HUD/TopBar"]
layout_mode = 0
anchor_right = 0.5
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Menu" type="MenuButton" parent="HUD/TopBar/QuickMenu"]
process_mode = 2
layout_mode = 2
theme_override_fonts/font = ExtResource("3")
text = "MENU"
flat = false
item_count = 1
popup/item_0/text = ""
popup/item_0/id = 0
script = ExtResource("6")

[node name="Goals" type="MenuButton" parent="HUD/TopBar/QuickMenu"]
layout_mode = 2
theme_override_fonts/font = ExtResource("3")
text = "Goals"
flat = false

[node name="Log" type="MenuButton" parent="HUD/TopBar/QuickMenu"]
layout_mode = 2
theme_override_fonts/font = ExtResource("3")
text = "Log"
flat = false

[node name="VisualOverlay" type="TextureRect" parent="HUD/TopBar"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TileMap" type="TileMap" parent="HUD/TopBar/VisualOverlay"]
tile_set = ExtResource("4_3ymha")
format = 2
layer_0/tile_data = PackedInt32Array(262144, 2228257, 196617, 262145, 2228257, 196617, 262146, 2228257, 196617, 262147, 2228257, 196617, 262148, 2228257, 196617, 262149, 2228257, 196617, 262150, 2228257, 196617, 262151, 2228257, 196617, 262152, 2228257, 196617, 262153, 2228257, 196617, 262154, 2228257, 196617, 262155, 2228257, 196617, 262156, 2228257, 196617, 262157, 2228257, 196617, 262158, 2228257, 196617, 262159, 2228257, 196617, 262160, 2228257, 196617, 262161, 2228257, 196617, 262162, 2228257, 196617, 262163, 2228257, 196617, 262164, 2228257, 196617, 262165, 2228257, 196617, 262166, 2228257, 196617, 262167, 2228257, 196617, 262168, 2228257, 196617, 262169, 2228257, 196617, 262170, 2228257, 196617, 262171, 2228257, 196617, 262172, 2228257, 196617, 262173, 2228257, 196617, 262174, 2228257, 196617, 262175, 2228257, 196617, 262176, 2228257, 196617, 262177, 2228257, 196617, 262178, 2228257, 196617, 262179, 2228257, 196617, 262180, 2228257, 196617, 262181, 2228257, 196617, 262182, 2228257, 196617, 262183, 2228257, 196617, 262184, 2228257, 196617, 262185, 2228257, 196617, 262186, 2228257, 196617, 262187, 2228257, 196617, 262188, 2228257, 196617, 262189, 2228257, 196617, 262190, 2228257, 196617, 262191, 2228257, 196617, 262192, 2228257, 196617, 262193, 2228257, 196617, 262194, 2228257, 196617, 262195, 2228257, 196617, 262196, 2228257, 196617, 262197, 2228257, 196617, 262198, 2228257, 196617, 262199, 2228257, 196617, 262200, 2228257, 196617, 262201, 2228257, 196617, 262202, 2228257, 196617, 262203, 2228257, 196617, 262204, 2228257, 196617, 262205, 2228257, 196617, 262206, 2228257, 196617, 262207, 2228257, 196617, 262208, 2228257, 196617, 262209, 2228257, 196617, 262210, 2228257, 196617, 262211, 2228257, 196617, 262212, 2228257, 196617, 262213, 2228257, 196617, 262214, 2228257, 196617, 262215, 2228257, 196617, 262216, 2228257, 196617, 262217, 2228257, 196617, 262218, 2228257, 196617, 262219, 2228257, 196617, 262220, 2228257, 196617, 262221, 2228257, 196617, 262222, 2228257, 196617, 262223, 2228257, 196617)

[node name="BottomBar" type="ColorRect" parent="HUD"]
anchors_preset = -1
anchor_top = 0.7
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 0.00255585
offset_bottom = -0.0320053
grow_horizontal = 2
grow_vertical = 0
color = Color(0, 0, 0, 1)

[node name="UnitsSelected" type="GridContainer" parent="HUD/BottomBar"]
layout_mode = 0
anchor_left = 0.2
anchor_right = 0.6
anchor_bottom = 1.0
theme_override_constants/h_separation = 4
theme_override_constants/v_separation = 4
columns = 10

[node name="UnitPortrait2" type="TextureRect" parent="HUD/BottomBar/UnitsSelected"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource("4_7rup5")
expand_mode = 4
stretch_mode = 5

[node name="UnitActions" type="GridContainer" parent="HUD/BottomBar"]
layout_mode = 0
anchor_left = 0.8
anchor_right = 1.0
anchor_bottom = 1.0
columns = 4

[node name="UnitPortrait" type="TextureRect" parent="HUD/BottomBar"]
layout_mode = 0
anchor_left = 0.6
anchor_right = 0.8
anchor_bottom = 1.0
expand_mode = 2
stretch_mode = 5

[node name="Minimap" type="SubViewportContainer" parent="HUD/BottomBar"]
layout_mode = 0
anchor_right = 0.2
anchor_bottom = 1.0
stretch = true

[node name="SubViewport" type="SubViewport" parent="HUD/BottomBar/Minimap"]
handle_input_locally = false
size = Vector2i(256, 215)
render_target_update_mode = 4

[node name="VisualOverlay" type="Control" parent="HUD/BottomBar"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TileMap" type="TileMap" parent="HUD/BottomBar/VisualOverlay"]
position = Vector2(0, -5)
tile_set = ExtResource("4_3ymha")
format = 2
layer_0/tile_data = PackedInt32Array(0, 2293793, 9, 1, 2228257, 9, 2, 2228257, 9, 3, 2228257, 9, 4, 2228257, 9, 5, 2228257, 9, 6, 2228257, 9, 7, 2228257, 9, 8, 2228257, 9, 9, 2228257, 9, 10, 2228257, 9, 11, 2228257, 9, 12, 2228257, 9, 13, 2228257, 9, 14, 2228257, 9, 15, 2228257, 9, 65551, 2228257, 65545, 131087, 2228257, 65545, 196623, 2228257, 65545, 262159, 2228257, 65545, 327695, 2228257, 65545, 393231, 2228257, 65545, 458767, 2228257, 65545, 524303, 2228257, 65545, 589839, 2228257, 65545, 655375, 2228257, 65545, 720911, 2228257, 65545, 786447, 2228257, 65545, 851983, 2228257, 65545, 852016, 2228257, 65545, 786480, 2228257, 65545, 720944, 2228257, 65545, 655408, 2228257, 65545, 589872, 2228257, 65545, 524336, 2228257, 65545, 458800, 2228257, 65545, 393264, 2228257, 65545, 327728, 2228257, 65545, 262192, 2228257, 65545, 196656, 2228257, 65545, 131120, 2228257, 65545, 65584, 2228257, 65545, 48, 2228257, 9, 655423, 2228257, 131081, 589887, 2228257, 131081, 720959, 2228257, 131081, 786495, 2228257, 131081, 852031, 2228257, 131081, 524351, 2228257, 131081, 458815, 2228257, 131081, 393279, 2228257, 131081, 327743, 2228257, 131081, 262207, 2228257, 131081, 196671, 2228257, 131081, 131135, 2228257, 131081, 65599, 2228257, 131081, 63, 2228257, 9, 16, 2228257, 9, 17, 2228257, 9, 18, 2228257, 9, 19, 2228257, 9, 20, 2228257, 9, 21, 2228257, 9, 22, 2228257, 9, 23, 2228257, 9, 24, 2228257, 9, 25, 2228257, 9, 26, 2228257, 9, 27, 2228257, 9, 28, 2228257, 9, 29, 2228257, 9, 30, 2228257, 9, 31, 2228257, 9, 32, 2228257, 9, 33, 2228257, 9, 34, 2228257, 9, 35, 2228257, 9, 36, 2228257, 9, 37, 2228257, 9, 38, 2228257, 9, 39, 2228257, 9, 40, 2228257, 9, 41, 2228257, 9, 42, 2228257, 9, 43, 2228257, 9, 44, 2228257, 9, 45, 2228257, 9, 46, 2228257, 9, 47, 2228257, 9, 49, 2228257, 9, 50, 2228257, 9, 51, 2228257, 9, 52, 2228257, 9, 53, 2228257, 9, 54, 2228257, 9, 55, 2228257, 9, 56, 2228257, 9, 57, 2228257, 9, 58, 2228257, 9, 59, 2228257, 9, 60, 2228257, 9, 61, 2228257, 9, 62, 2228257, 9, 64, 2228257, 9, 65, 2228257, 9, 66, 2228257, 9, 67, 2228257, 9, 68, 2228257, 9, 69, 2228257, 9, 70, 2228257, 9, 71, 2228257, 9, 72, 2228257, 9, 73, 2228257, 9, 74, 2228257, 9, 75, 2228257, 9, 76, 2228257, 9, 77, 2228257, 9, 78, 2228257, 9, 79, 2228257, 9)

[node name="Camera2D" type="Camera2D" parent="HUD"]
offset = Vector2(280, 120)
anchor_mode = 0
limit_left = 0
limit_top = 0
limit_right = 1000
limit_bottom = 600
limit_smoothed = true
position_smoothing_enabled = true
editor_draw_limits = true

[node name="SelectRect" type="Node2D" parent="."]
script = ExtResource("5")

[connection signal="toggled" from="HUD/TopBar/QuickMenu/Menu" to="HUD/TopBar/QuickMenu/Menu" method="_on_Menu_toggled"]
